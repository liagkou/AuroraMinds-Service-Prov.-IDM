(this["webpackJsonpolympus-service-provider"]=this["webpackJsonpolympus-service-provider"]||[]).push([[0],{178:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(10),c=n.n(a),l=(n(178),n(29)),s=Object(l.createUserManager)({client_id:"olympus-service-provider",redirect_uri:"http://localhost:3000/callbackKC",response_type:"token id_token",scope:"openid profile",authority:"http://localhost:8082/auth/realms/olympus-realm/",silent_redirect_uri:"localhost:3000/silent_renew.html",automaticSilentRenew:!1,filterProtocolClaims:!0,loadUserInfo:!0}),d=Object(l.createUserManager)({client_id:"olympus-service-provider",redirect_uri:"http://localhost:3000/callbackOL",response_type:"id_token",scope:"openid name",authority:"http://localhost:8080/",silent_redirect_uri:"localhost:3000/silent_renew.html",automaticSilentRenew:!1,filterProtocolClaims:!0,loadUserInfo:!0}),u=n(17),p=n(13),b=n(25),j=n(26),h=n(28),m=n(27),f=n(8),x=n(321),O=n(323),g=n(324),v=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)(x.a,{children:[Object(r.jsxs)(x.a,{style:y.title,children:[Object(r.jsx)(O.a,{variant:"h3",align:"center",children:"Welcome to"}),Object(r.jsx)(O.a,{variant:"h2",align:"center",children:"University Verification System"})]}),Object(r.jsx)(O.a,{variant:"subtitle1",align:"center",style:y.subtitle}),Object(r.jsx)(x.a,{style:y.buttonBox,children:Object(r.jsx)(g.a,{size:"medium",variant:"outlined",onClick:function(t){t.preventDefault(),e.props.dispatch(Object(f.push)("/login"))},children:"Login"})})]})}}]),n}(o.a.Component),y={buttonBox:{paddingTop:"10px",marginTop:"auto",marginButtom:"auto",width:"150px"},subtitle:{paddingTop:"10px"},title:{flex:"1 0 auto"},list:{listStyle:"none"},li:{display:"flex"}};Object(p.b)((function(e){return{user:e.oidc.user}}))(v);var k=n(332),C=n(115),w=n.n(C),S=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"onLoginClick",value:function(e){e.preventDefault(),s.signinRedirect()}},{key:"onLoginClickOlympus",value:function(e){e.preventDefault(),d.signinRedirect()}},{key:"onLoginCredentialsClick",value:function(e){e.preventDefault(),window.location.href="http://localhost:8080/loginCredentials"}},{key:"render",value:function(){return Object(r.jsxs)(k.a,{style:_.root,children:[Object(r.jsx)(O.a,{variant:"h5",align:"center",children:"User Authorization"}),Object(r.jsx)(g.a,{size:"large",variant:"outlined",startIcon:Object(r.jsx)(w.a,{}),onClick:this.onLoginClickOlympus,style:_.button,children:"Log in with Aurora Minds"}),Object(r.jsx)(g.a,{size:"large",variant:"outlined",startIcon:Object(r.jsx)(w.a,{}),onClick:this.onLoginCredentialsClick,style:_.button,children:"Log in with Credentials"})]})}}]),n}(o.a.Component),_={root:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",flexShrink:1},button:{marginTop:"20px"}},U=S,D=n(15),B=n(325),I=n(326),R=n(327),A=n(330),N=n(335),T=n(30),E=n.n(T),M=n(116),z=n.n(M),P=n(59),F=n.n(P),L=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),r=t.call(this,e),document.cookie="userData="+encodeURIComponent(JSON.stringify(e.user.profile)),r}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user;console.log("start user"),console.log(t),console.log("end user");var n=new Date;return console.log(n.getYear()),n.setYear(n.getYear()+1900-18),new Date(24)<n?(localStorage.getItem("hasRegistered")||z.a.fire("You have successfully registered to Aurora Minds"),localStorage.setItem("hasRegistered","true"),Object(r.jsxs)(x.a,{style:W.root,children:[Object(r.jsx)(x.a,{style:W.header,children:Object(r.jsx)(B.a,{position:"static",style:W.appBar,children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(R.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(r.jsx)(F.a,{style:{fontSize:40}})}),Object(r.jsx)(E.a,{variant:"popover",popupId:"demo-popup-menu",children:function(t){return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(g.a,Object(D.a)(Object(D.a)({color:"inherit"},Object(T.bindTrigger)(t)),{},{style:W.menuButton,children:"MAIN PAGE"})),Object(r.jsxs)(A.a,Object(D.a)(Object(D.a)({},Object(T.bindMenu)(t)),{},{children:[Object(r.jsx)(N.a,{onClick:function(t){t.preventDefault(),s.getUser(),d.storeUser(),z.a.fire({title:"Privacy notice!",text:"Sensitive information will be rendered to the screen",icon:"warning",button:"Ok"}).then((function(t){return e.props.dispatch(Object(f.push)("/information"))}))},children:"Personal Information"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.open("http://localhost:8080/changePassword","_blank")},children:"Change Password"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.open("http://localhost:8080/deleteAccount","_blank")},children:"Delete Account"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.removeUser(),d.removeUser(),sessionStorage.clear(),window.open("http://localhost:8080/logout","_blank")},style:{color:"red"},children:"Logout"})]}))]})}})]})})}),Object(r.jsx)(O.a,{variant:"h4",style:W.welcomeMessage,children:"Welcome user. This is the main dashboard."}),Object(r.jsx)(O.a,{variant:"h6",style:W.subtitle,children:"Access the Management System"}),Object(r.jsx)(g.a,{size:"medium",variant:"contained",color:"primary",style:W.actionButton,onClick:function(t){t.preventDefault(),s.getUser(),d.storeUser().then((function(t){return e.props.dispatch(Object(f.push)("/checkAccessCredential"))}))},children:"Get Credential"})]})):(alert(" Your age is under 18, sending back to the login page..."),Object(r.jsx)(U,{}))}}]),n}(o.a.Component),W={root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(to right, #33a7c4, #74bfc4)",padding:"40px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)",borderRadius:"20px"},header:{width:"100%",marginBottom:"20px"},appBar:{background:"linear-gradient(to right, #33a7c4, #74bfc4)",borderRadius:"10px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)"},menuButton:{fontSize:"18px",fontWeight:"bold"},welcomeMessage:{color:"#fff",marginBottom:"20px",textAlign:"center"},subtitle:{color:"#fff",marginBottom:"20px",textAlign:"center"},actionButton:{padding:"10px 20px",borderRadius:"10px",textTransform:"none",fontSize:"16px"}};var H=Object(p.b)((function(e){return{user:e.oidc.user}}))(L);var J=Object(p.b)((function(e){return{user:e.oidc.user}}),(function(e){return{dispatch:e}}))((function(e){return e.user?Object(r.jsx)(H,{}):Object(r.jsx)(U,{})})),G=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{children:Object(r.jsx)(l.CallbackComponent,{userManager:d,successCallback:function(t){e.props.dispatch({type:l.USER_FOUND,payload:t}),e.props.dispatch(Object(f.push)("/success"))},errorCallback:function(t){alert("error occured: "+t),console.log(t),e.props.dispatch(Object(f.push)("/")),console.error(t)},children:Object(r.jsx)("div",{children:"Redirecting..."})})})}}]),n}(o.a.Component),Y=Object(p.b)()(G),V=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{children:Object(r.jsx)(l.CallbackComponent,{userManager:s,successCallback:function(t){console.log(t)("you're logged in as "+t.profile.sub),e.props.dispatch({type:l.USER_FOUND,payload:t}),e.props.dispatch(Object(f.push)("/success"))},errorCallback:function(t){alert("error occured: "+t),console.log(t),e.props.dispatch(Object(f.push)("/")),console.error(t)},children:Object(r.jsx)("div",{children:"Redirecting..."})})})}}]),n}(o.a.Component),K=Object(p.b)()(V),$=n(47),q=Object($.c)({routing:f.routerReducer,oidc:l.reducer}),Q=Object($.d)(Object($.a)((function(e){return function(t){return function(n){console.log("Action type:",n.type),console.log("Action payload:",n.payload),console.log("State before:",e.getState()),t(n),console.log("State after:",e.getState())}}}),Object(f.routerMiddleware)(u.c)))($.e)(q,{});Object(l.loadUser)(Q,s),Object(l.loadUser)(Q,d);var X=Q,Z=n(9),ee=n.n(Z),te=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.verifyUserData(this.props.user)}},{key:"verifyUserData",value:function(e){if(e&&e.profile){var t=["name","sub","birthdate","nickname","middle_name","family_name"].filter((function(t){return!e.profile[t]}));0===t.length?ee()({title:"New Curriculum",text:"would like to deliver a Credential to your Storage!",icon:"warning",button:"Allow"}):ee()({title:"Error",text:"Missing fields: ".concat(t.join(", ")),icon:"error",button:"Close"})}else ee()({title:"Error",text:"User data is missing or incomplete.",icon:"error",button:"Close"})}},{key:"render",value:function(){var e=this.props.user;return Object(r.jsx)("div",{style:ne.root,children:Object(r.jsxs)("div",{style:ne.title,children:[Object(r.jsx)(k.a,{sx:{flexGrow:1}}),Object(r.jsx)(B.a,{position:"static",children:Object(r.jsx)(O.a,{variant:"subtitle1",align:"center",children:Object(r.jsxs)("div",{align:"center",children:[Object(r.jsx)("h2",{style:{color:"forestgreen"},children:"PESTO Credential Created!"}),Object(r.jsx)("img",{src:"/university.png",width:"250",height:"160"}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Full Name: ",e?e.profile.name:"Mister Unknown"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Username: ",e?e.profile.sub:"Mister Unknown"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Birthdate: ",e?e.profile.birthdate:"Birth"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Student Id: ",e?e.profile.nickname:"-"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Address: ",e?e.profile.middle_name:"Address 1"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Phone Number: ",e?e.profile.family_name:"-"]}),Object(r.jsxs)(x.a,{style:ne.buttonBox,align:"center",children:[Object(r.jsx)("br",{}),Object(r.jsx)(g.a,{size:"medium",variant:"outlined",onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.close(),window.open("http://localhost:8080/logout","_self")},style:{background:"#cd101c"},children:"Close and logout"})]})]})})})]})})}}]),n}(o.a.Component),ne={root:{display:"flex",flexDirection:"column",top:"10%",left:"45%",position:"fixed"},title:{flex:"1 0 auto"},list:{listStyle:"none"},li:{display:"flex"}};var re=Object(p.b)((function(e){return{user:e.oidc.user}}))(te),ie=n(18),oe=n(12),ae=n(333),ce={name:"Full name",birthdate:"Date of Birth",nickname:"Student id",middle_name:"Email",given_name:"Role"},le={root:{display:"flex",flexDirection:"column"},title:{flex:"1 0 auto"},list:{listStyle:"none"},li:{display:"flex"},buttonBox:{paddingTop:"10px",marginTop:"auto",marginBottom:"auto",width:"150px"},subtitle:{paddingTop:"10px"}};var se=Object(p.b)((function(e){return{user:e.oidc.user}}))((function(e){var t=e.user,n=e.dispatch,o=Object(i.useState)({name:!0,birthdate:!0,nickname:!0,middle_name:!0,given_name:!0}),a=Object(oe.a)(o,2),c=a[0],l=a[1],u=function(e){l((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(ie.a)({},e,!t[e]))}))};return Object(r.jsx)(k.a,{style:le.root,children:Object(r.jsxs)(O.a,{variant:"subtitle1",align:"center",children:[Object(r.jsx)("img",{src:"/university.png",width:"250",height:"160"}),Object(r.jsx)("h2",{style:{padding:"10px 20px",color:"black"},children:"Credential Options"}),Object(r.jsx)("summary",{children:Object(r.jsx)("h3",{style:{color:"green"},children:"Reveal"})}),Object(r.jsx)("div",{children:Object.entries(c).map((function(e){var n=Object(oe.a)(e,2),i=n[0],o=n[1];return Object(r.jsx)("div",{children:Object(r.jsxs)("label",{style:{display:"block"},children:[ce[i],": ",t?t.profile[i]:i.charAt(0).toUpperCase()+i.slice(1),Object(r.jsx)(ae.a,{checked:o,onChange:function(){return u(i)},color:"primary"})]})},i)}))}),Object(r.jsx)("summary",{children:Object(r.jsx)("h3",{style:{color:"red"},children:"Hide"})}),Object(r.jsx)("div",{children:Object.entries(c).map((function(e){var n=Object(oe.a)(e,2),i=n[0],o=n[1];return Object(r.jsx)("div",{children:Object(r.jsxs)("label",{style:{display:"block"},children:[ce[i],": ",t?t.profile[i]:i.charAt(0).toUpperCase()+i.slice(1),Object(r.jsx)(ae.a,{checked:!o,onChange:function(){return u(i)},color:"secondary"})]})},i)}))}),Object(r.jsx)(x.a,{style:le.buttonBox,children:Object(r.jsx)(g.a,{size:"medium",variant:"outlined",onClick:function(){if(s.getUser(),d.storeUser(),function(){var e=Object.values(c).some((function(e){return!0===e})),n=!!t&&/^\d{4}$/.test(t.profile.nickname);return e&&n}()){var e=Object.entries(c).filter((function(e){var t=Object(oe.a)(e,2);t[0];return t[1]})).map((function(e){var n=Object(oe.a)(e,2),r=n[0];n[1];return ce[r]+": "+(t?t.profile[r]:r.charAt(0).toUpperCase()+r.slice(1))})).join(", "),r=Object.entries(c).filter((function(e){var t=Object(oe.a)(e,2);t[0];return!t[1]})).map((function(e){var n=Object(oe.a)(e,2),r=n[0];n[1];return ce[r]+": "+(t?t.profile[r]:r.charAt(0).toUpperCase()+r.slice(1))})).join(", ");ee()({title:"Information",text:"Revealed: ".concat(e,"\nHidden: ").concat(r),icon:"info",button:"Ok"}).then((function(){ee()({title:"Success",text:"You are Verified!!",icon:"success",button:"Ok"}).then((function(){s.getUser(),d.storeUser(),n(Object(f.push)("/already/credential/Storage"))}))}))}else ee()({title:"Details Not Revealed, Invalid Credentials",text:"Please select at least one detail to reveal.",icon:"warning",button:"Ok"}).then((function(){d.signoutRedirect()}))},children:"Continue to Application"})})]})})})),de=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;sessionStorage.setItem("","value");sessionStorage.getItem("key");sessionStorage.removeItem("key"),sessionStorage.clear();var t=this.props.user;return Object(r.jsx)("div",{style:ue.root,children:Object(r.jsxs)("div",{style:ue.title,children:[Object(r.jsx)(k.a,{sx:{flexGrow:1}}),Object(r.jsx)(B.a,{position:"static",children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(R.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2}}),Object(r.jsx)(E.a,{variant:"popover",popupId:"demo-popup-menu",children:function(n){return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(g.a,Object(D.a)(Object(D.a)({color:"inherit",uppercase:!1},Object(T.bindTrigger)(n)),{},{size:"small",children:"IMPORTANT INFORMATION"})),Object(r.jsxs)(A.a,Object(D.a)(Object(D.a)({},Object(T.bindMenu)(n)),{},{children:[Object(r.jsxs)(N.a,{onClick:function(){},style:{color:"red"},children:["Welcome ",t?t.profile.name:"Mister Unknown"]}),Object(r.jsx)(N.a,{onClick:function(t){t.preventDefault(),s.getUser(),d.storeUser().then((function(t){return e.props.dispatch(Object(f.push)("/success"))}))},children:"Home"}),Object(r.jsx)(N.a,{onClick:function(t){t.preventDefault(),s.getUser(),d.storeUser().then((function(t){return e.props.dispatch(Object(f.push)("/information"))}))},children:"Personal Information"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.close(),window.open("http://localhost:8080/deleteAccount","_blank")},children:"Delete Account"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.close(),window.open("http://localhost:8080/logout","_self")},children:"Logout"})]}))]})}})]})}),Object(r.jsx)(O.a,{variant:"subtitle1",align:"center",children:Object(r.jsx)("img",{src:"/university.png",width:"250",height:"160"})}),Object(r.jsxs)(O.a,{variant:"subtitle1",align:"center",children:[Object(r.jsxs)("h4",{style:{color:"grey"},children:["Full Name:",t?t.profile.name:"Mister Unknown"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:[" Username: ",t?t.profile.sub:"Mister Unknown"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Birthdate: ",t?t.profile.birthdate:"Birth"]}),Object(r.jsxs)("h6",{style:{color:"grey"},children:["Student Id: ",t?t.profile.nickname:"Student Id"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Email: ",t?t.profile.middle_name:"Address 01"]}),Object(r.jsxs)("h4",{style:{color:"grey"},children:["Phone Number: ",t?t.profile.family_name:"Address 01"]})]})]})})}}]),n}(o.a.Component),ue={root:{display:"flex",flexDirection:"column"},title:{flex:"1 0 auto"},list:{listStyle:"none"},li:{display:"flex"}};var pe=Object(p.b)((function(e){return{user:e.oidc.user}}))(de),be=n(328),je=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).ifCredentialisMissingDisableTheDeleteButton=function(){var e=r.props.user.profile;e.name&&e.birthdate&&e.nickname&&e.middle_name&&e.given_name||r.setState({isDeleteButtonDisabled:!0})},r.pressToDelete=function(){localStorage.removeItem("name"),localStorage.removeItem("birthdate"),localStorage.removeItem("nickname"),localStorage.removeItem("middle_name"),localStorage.removeItem("given_name");r.setState({user:{profile:{name:null,birthdate:null,nickname:null,middle_name:null,given_name:null}},isDeleteButtonDisabled:!0}),r.props.user.profile.name=null,r.props.user.profile.birthdate=null,r.props.user.profile.nickname=null,r.props.user.profile.middle_name=null,r.props.user.profile.given_name=null,ee()({title:"Credential Deleted",text:"User credential deleted successfully",icon:"warning",button:"Ok"}).then((function(){window.location.href="http://localhost:8080/logout"}))},r.state={user:{profile:{name:r.props.user.profile.name,birthdate:r.props.user.profile.birthdate,nickname:r.props.user.profile.nickname,middle_name:r.props.user.profile.middle_name,given_name:r.props.user.profile.given_name}},isDeleteButtonDisabled:!1},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.ifCredentialisMissingDisableTheDeleteButton()}},{key:"render",value:function(){var e=this,t=this.state.user,n=this.state.isDeleteButtonDisabled;return Object(r.jsxs)(x.a,{style:he.root,children:[Object(r.jsx)(B.a,{position:"static",style:he.appBar,children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(R.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(r.jsx)(F.a,{style:{fontSize:40}})}),Object(r.jsx)(E.a,{variant:"popover",popupId:"demo-popup-menu",children:function(t){return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(g.a,Object(D.a)(Object(D.a)({color:"inherit"},Object(T.bindTrigger)(t)),{},{style:he.menuButton,children:"CREDENTIAL STORAGE"})),Object(r.jsxs)(A.a,Object(D.a)(Object(D.a)({},Object(T.bindMenu)(t)),{},{children:[Object(r.jsx)(N.a,{onClick:function(t){t.preventDefault(),s.getUser(),d.storeUser(),ee()({title:"Returning to main page!",text:"Redirection...",icon:"warning",button:"Ok"}).then((function(t){return e.props.dispatch(Object(f.push)("/success"))}))},children:"Home"}),Object(r.jsx)(N.a,{onClick:function(t){t.preventDefault(),s.getUser(),d.storeUser(),ee()({title:"Privacy notice!",text:"Sensitive informations will be render to the screen",icon:"warning",button:"Ok"}).then((function(t){return e.props.dispatch(Object(f.push)("/information"))}))},children:"Personal Information"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.open("http://localhost:8080/changePassword","_blank")},children:"Change Password"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.getUser(),d.storeUser(),window.open("http://localhost:8080/deleteAccount","_blank")},children:"Delete Account"}),Object(r.jsx)(N.a,{onClick:function(e){e.preventDefault(),s.removeUser(),d.removeUser(),sessionStorage.clear(),window.open("http://localhost:8080/logout","_blank")},style:{color:"red"},children:"Logout"})]}))]})}})]})}),Object(r.jsx)(O.a,{variant:"subtitle1",align:"center",style:he.title,children:Object(r.jsx)("img",{src:"/university.png",width:"250",height:"160",alt:"University Logo"})}),Object(r.jsx)(be.a,{style:he.card,children:Object(r.jsx)(O.a,{variant:"body1",align:"center",children:Object(r.jsxs)("details",{children:[Object(r.jsx)("summary",{children:"Credentials Storage"}),Object(r.jsxs)(O.a,{variant:"body2",style:he.credentials,children:[Object(r.jsxs)("div",{children:["FullName: ",t?t.profile.name:"Mister Unknown"]}),Object(r.jsxs)("div",{children:["Birthdate: ",t?t.profile.birthdate:""]}),Object(r.jsxs)("div",{children:["Clinician ID: ",t?t.profile.nickname:"-"]}),Object(r.jsxs)("div",{children:["Email: ",t?t.profile.middle_name:"-"]}),Object(r.jsxs)("div",{children:["Role: ",t?t.profile.given_name:"-"]})]}),Object(r.jsx)(g.a,{size:"large",onClick:function(t){t.preventDefault(),e.pressToDelete()},disabled:n,style:he.deleteButton,children:"Delete this Credential"})]})})}),Object(r.jsx)(x.a,{style:he.buttonBox,children:Object(r.jsx)(g.a,{size:"medium",variant:"outlined",style:he.continueButton,onClick:function(n){n.preventDefault(),s.getUser(),d.storeUser();try{t.profile.name?e.props.dispatch(Object(f.push)("/checkAccessCredential/already/credential/verifier")):(window.close(),window.open("http://localhost:8080/error","_self"))}catch(r){console.log(r),window.close(),window.open("http://localhost:8080/error","_self")}},children:"Continue to Application"})})]})}}]),n}(o.a.Component),he={root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",background:"linear-gradient(to right, #33a7c4, #74bfc4)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)",borderRadius:"20px",minHeight:"100vh"},appBar:{width:"100%",background:"linear-gradient(to right, #33a7c4, #74bfc4)",borderRadius:"10px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)",marginBottom:"20px"},title:{marginBottom:"20px"},menuButton:{fontSize:"18px",fontWeight:"bold"},card:{width:"100%",padding:"20px",borderRadius:"10px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)",marginBottom:"20px",backgroundColor:"#ffffff"},credentials:{marginBottom:"20px"},deleteButton:{backgroundColor:"#c91313",color:"white"},buttonBox:{display:"flex",justifyContent:"center"},continueButton:{color:"black"}};var me=Object(p.b)((function(e){return{user:e.oidc.user}}))(je),fe={root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",background:"linear-gradient(to right, #33a7c4, #74bfc4)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)",borderRadius:"20px",boxSizing:"border-box"},appBar:{background:"linear-gradient(to right, #33a7c4, #74bfc4)",borderRadius:"10px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)",marginBottom:"20px"},title:{color:"#fff",marginBottom:"20px",textAlign:"center"},menuButton:{fontSize:"18px",fontWeight:"bold"},buttonBox:{paddingTop:"10px",width:"150px",display:"flex",justifyContent:"center"},actionButton:{padding:"10px 20px",borderRadius:"10px",textTransform:"none",fontSize:"16px"}};var xe=Object(p.b)((function(e){return{user:e.oidc.user}}))((function(e){var t=e.user,n=e.dispatch,i=function(){t.profile.name&&t.profile.middle_name&&t.profile.nickname?ee()({title:"Access Granted!",text:"This user posses a valid Credential",icon:"success",button:"Ok"}).then((function(e){s.getUser(),d.storeUser(),n(Object(f.push)("/checkAccessCredential/Storage"))})):ee()({title:"Get Credential!",text:"Credential  not found. Redirection to Get Credential...",icon:"warning",button:"Ok"}).then((function(e){s.getUser(),d.storeUser(),t.profile.name=localStorage.getItem("name"),t.profile.birthdate=localStorage.getItem("birthdate"),t.profile.nickname=localStorage.getItem("nickname"),t.profile.middle_name=localStorage.getItem("middle_name"),t.profile.given_name=localStorage.getItem("given_name"),n(Object(f.push)("/checkAccessCredential/already/credential"))}))};return Object(r.jsxs)(x.a,{style:fe.root,children:[Object(r.jsx)(B.a,{position:"static",style:fe.appBar,children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(R.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(r.jsx)(F.a,{style:{fontSize:40}})}),Object(r.jsx)(E.a,{variant:"popover",popupId:"demo-popup-menu",children:function(e){return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsx)(g.a,Object(D.a)(Object(D.a)({color:"inherit"},Object(T.bindTrigger)(e)),{},{style:fe.menuButton,children:"Check Access"}))})}})]})}),Object(r.jsx)(O.a,{variant:"h4",style:fe.title,children:"Check Access Credential"}),Object(r.jsx)(k.a,{style:fe.buttonBox,children:t.profile.name&&t.profile.nickname&&t.profile.middle_name&&t.profile.preferred_username&&t.profile.birthdate?Object(r.jsx)(g.a,{size:"medium",variant:"contained",color:"primary",style:fe.actionButton,onClick:i,children:"Login Via Credential"}):Object(r.jsx)(g.a,{size:"medium",variant:"contained",color:"primary",style:fe.actionButton,onClick:i,children:"Get A Credential"})})]})})),Oe=n(329),ge={root:{display:"flex",flexDirection:"column"},title:{flex:"1 0 auto"},list:{listStyle:"none"},li:{display:"flex"},buttonBox:{paddingTop:"10px",marginTop:"auto",marginBottom:"auto",width:"150px"},subtitle:{paddingTop:"10px"}};var ve=Object(p.b)((function(e){var t=e.oidc.user;if(!t){var n=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e===r[0].trim())return decodeURIComponent(r[1])}return null}("userData");if(n)try{(t=JSON.parse(n)).profile={name:t.name,birthdate:t.birthdate,nickname:t.nickname,middle_name:t.middle_name,given_name:t.given_name}}catch(r){console.error("Error parsing JSON from cookie:",r)}}return{user:t}}))((function(e){var t=e.user,n=Object(i.useState)({"Full Name":"",Birthdate:"","Clinician Id":"",Email:"",Role:""}),o=Object(oe.a)(n,2),a=o[0],c=o[1],l=Object(i.useState)({"Full Name":!0,Birthdate:!0,"Clinician Id":!0,Email:!0,Role:!0}),u=Object(oe.a)(l,2),p=u[0],b=u[1];Object(i.useEffect)((function(){t&&t.profile&&c({"Full Name":t.profile.name||"",Birthdate:t.profile.birthdate||"","Clinician Id":t.profile.nickname||"",Email:t.profile.middle_name||"",Role:t.profile.given_name||""})}),[t]);var j=function(e){b((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(ie.a)({},e,!t[e]))}))};return Object(r.jsxs)(Oe.a,{variant:"subtitle1",align:"center",children:[Object(r.jsx)("img",{src:"/university.png",width:"250",height:"160",alt:"Logo"}),Object(r.jsx)("h2",{style:{padding:"10px 20px",color:"black"},children:"Credential"}),Object(r.jsx)("summary",{children:Object(r.jsx)("h3",{style:{color:"green"},children:"Reveal"})}),Object(r.jsx)("div",{children:Object.entries(a).map((function(e){var t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(r.jsx)("div",{children:Object(r.jsxs)("label",{style:{display:"block"},children:[n,": ",i,Object(r.jsx)(ae.a,{checked:p[n],onChange:function(){return j(n)},color:"primary"})]})},n)}))}),Object(r.jsx)("summary",{children:Object(r.jsx)("h3",{style:{color:"red"},children:"Hide"})}),Object(r.jsx)("div",{children:Object.entries(a).map((function(e){var t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(r.jsx)("div",{children:Object(r.jsxs)("label",{style:{display:"block"},children:[n,": ",i,Object(r.jsx)(ae.a,{checked:!p[n],onChange:function(){return j(n)},color:"secondary"})]})},n)}))}),Object(r.jsx)(x.a,{style:ge.buttonBox,children:Object(r.jsx)(g.a,{size:"medium",variant:"outlined",onClick:function(){if(s.getUser(),d.storeUser(),console.log("***",s.getUser()),function(){var e=Object.values(p).some((function(e){return!0===e})),t="Clinician"===a.Role;return e&&t}()){var e=[{Full_Name:t.profile.name,revealed:p["Full Name"],attribute:"name"},{Birthdate:t.profile.birthdate,revealed:p.Birthdate,attribute:"birthdate"},{Clinician_Id:t.profile.nickname,revealed:p["Clinician Id"],attribute:"nickname"},{Email:t.profile.middle_name,revealed:p.Email,attribute:"middle_name"},{Role:t.profile.given_name,revealed:p.Role,attribute:"given_name"}].filter((function(e){return e.revealed}));document.cookie="predicates="+JSON.stringify(e)+";path=/";var n=Object.entries(p).filter((function(e){var t=Object(oe.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(oe.a)(e,2),n=t[0];t[1];return n})).join(", "),r=Object.entries(p).filter((function(e){var t=Object(oe.a)(e,2);t[0];return!t[1]})).map((function(e){var t=Object(oe.a)(e,2),n=t[0];t[1];return n})).join(", ");ee()({title:"Information",text:"Revealed: ".concat(n,"\nHidden: ").concat(r),icon:"info",button:"Ok"}).then((function(){ee()({title:"Aurora Minds",text:"You are Verified!!",icon:"success",button:"Ok"}).then((function(){window.location.href="http://localhost:8080/verify1"}))}))}else ee()({title:"Details Not Revealed or Invalid Specialty",text:"Please select at least one detail to reveal the information.",icon:"warning",button:"Ok"}).then((function(){d.signoutRedirect()}))},children:"Continue to application form"})})]})})),ye=n(334);var ke={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"linear-gradient(to right, #33a7c4, #74bfc4)",padding:"20px",borderRadius:"20px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)"},title:{marginBottom:"20px",color:"#fff"},button:{padding:"10px 0"}},Ce=function(){Object(ye.a)();return Object(r.jsxs)(x.a,{style:ke.container,children:[Object(r.jsx)(O.a,{variant:"h4",style:ke.title,children:"Upload Credential"}),Object(r.jsx)(g.a,{variant:"contained",color:"primary",fullWidth:!0,style:ke.button,onClick:function(){var e=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e===r[0].trim())return decodeURIComponent(r[1])}return null}("userData");if(e){console.log("Raw userDataCookie:",e);try{var t=JSON.parse(e);t.name,t.nickname,t.birthdate,t.middle_name,t.given_name;ee()({title:"Upload Successful",text:"Credential has been uploaded!",icon:"success",button:"Ok"}).then((function(){window.location.href="/login_DS/verifypresentation"}))}catch(n){console.error("Error parsing JSON from cookie:",n),ee()({title:"Upload Failed",text:"Error parsing user data from cookie",icon:"error",button:"Ok"})}}else ee()({title:"No Credential Found",text:"No user data cookie found",icon:"error",button:"Ok"})},children:"Upload Credential"})]})};var we={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"linear-gradient(to right, #33a7c4, #74bfc4)",padding:"20px",borderRadius:"20px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)"},title:{marginBottom:"20px",color:"#fff"},button:{padding:"10px 0"}},Se=function(){var e=Object(ye.a)(),t=Object(i.useState)(null),n=Object(oe.a)(t,2),o=n[0],a=n[1];Object(i.useEffect)((function(){var e=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e===r[0].trim())return decodeURIComponent(r[1])}return null}("userData");if(e){console.log("Raw userDataCookie:",e);try{var t=JSON.parse(e),n={name:t.name,birthdate:t.birthdate,nickname:t.nickname,middle_name:t.middle_name,given_name:t.given_name};console.log("Formatted userData:",n),a(n)}catch(r){console.error("Error parsing JSON from cookie:",r),ee()({title:"Upload Failed",text:"Error parsing user data from cookie",icon:"error",button:"Ok"})}}else ee()({title:"No Credential Found",text:"No user data cookie found",icon:"error",button:"Ok"})}),[e]);return Object(r.jsxs)(x.a,{style:we.container,children:[Object(r.jsx)(O.a,{variant:"h4",style:we.title,children:"Verify Presentation"}),Object(r.jsx)(g.a,{variant:"contained",color:"primary",style:we.button,onClick:function(){if(o){var e=[{Full_Name:o.name,attribute:"name"},{Birthdate:o.birthdate,attribute:"birthdate"},{Clinician_Id:o.nickname,attribute:"nickname"},{Email:o.middle_name,attribute:"middle_name"},{Role:o.given_name,attribute:"preferred_username"}];document.cookie="predicates="+JSON.stringify(e)+";path=/",ee()({title:"Policy Exported",text:"Policy has been exported to cookie!",icon:"success",button:"Ok"})}else ee()({title:"No User Data",text:"No user data available to export policy",icon:"error",button:"Ok"})},children:"Export Policy"})]})},_e=Object(f.syncHistoryWithStore)(u.c,X);function Ue(e){return Object(r.jsxs)(u.b,{history:_e,children:[Object(r.jsx)(u.a,{path:"/",component:J}),Object(r.jsx)(u.a,{path:"/login",component:U}),Object(r.jsx)(u.a,{path:"/success",component:H}),Object(r.jsx)(u.a,{path:"/callbackOL",component:Y}),Object(r.jsx)(u.a,{path:"/callbackKC",component:K}),Object(r.jsx)(u.a,{path:"/create/credential",component:re}),Object(r.jsx)(u.a,{path:"/already/credential",component:se}),Object(r.jsx)(u.a,{path:"/information",component:pe}),Object(r.jsx)(u.a,{path:"/Storage",component:me}),Object(r.jsx)(u.a,{path:"/already/credential/Storage",component:me}),Object(r.jsx)(u.a,{path:"/checkAccessCredential",component:xe}),Object(r.jsx)(u.a,{path:"/checkAccessCredential/Storage",component:me}),Object(r.jsx)(u.a,{path:"/checkAccessCredential/already/credential",component:se}),Object(r.jsx)(u.a,{path:"/checkAccessCredential/already/credential/verifier",component:ve}),Object(r.jsx)(u.a,{path:"/checkAccessCredential/already/credential/verifier/verificationPage",component:ve}),Object(r.jsx)(u.a,{path:"/login_DS",component:Ce}),Object(r.jsx)(u.a,{path:"/login_DS/verifyPresentation",component:Se})]})}var De={content:{padding:"1.5em",flex:"1 0 auto"}},Be=function(e){return Object(r.jsx)("div",{style:De.content,children:e.children})},Ie=n(163),Re=n(161),Ae=n.p+"static/media/restaurant.cce1acb7.jpg",Ne=Object(Re.a)({palette:{background:{backgroundImage:"url(".concat(Ae,")"),paper:"#fff"},primary:{main:"#403f44"},secondary:{main:"#56978e"},warmGrey:{main:"#403f44",light:"#f5f5f5"},success:{main:"#5CBC84"},warning:{main:"#EDD75E"},error:{main:"#F04B2E"},unknown:{main:"#80808055"},common:{black:"#000",white:"#fff"}}}),Te=n(160);var Ee={background:{backgroundImage:"url(".concat(Image,")"),backgroundSize:"cover",height:"1280px",paddingTop:"0px"},box:{maxWidth:"600px",maxHeight:"350px",marginLeft:"auto",marginRight:"auto"},paper:{maxWidth:"600px",maxHeight:"350px"},content:{paddingTop:"250px"}},Me=function(){return Object(r.jsx)(x.a,{style:Ee.background,maxWidth:"100%",children:Object(r.jsx)(Te.MuiThemeProvider,{theme:Ne,children:Object(r.jsx)(x.a,{style:Ee.content,children:Object(r.jsx)(k.a,{style:Ee.box,boxShadow:3,children:Object(r.jsx)(Ie.a,{style:Ee.paper,children:Object(r.jsx)(l.OidcProvider,{store:X,userManager:s,children:Object(r.jsx)(Be,{children:Object(r.jsx)(Ue,{})})})})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(r.jsx)(o.a.Fragment,{children:Object(r.jsx)(p.a,{store:X,children:Object(r.jsx)(Me,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[295,1,2]]]);
//# sourceMappingURL=main.1a2ab514.chunk.js.map